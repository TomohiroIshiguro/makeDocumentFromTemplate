# GAS ローカル開発環境

**目次**

- [GAS ローカル開発環境](#gas-ローカル開発環境)
  - [1. 概要](#1-概要)
  - [2. 作業環境](#2-作業環境)
  - [3. コマンド](#3-コマンド)
  - [4. 作業手順](#4-作業手順)
  - [5. 参考](#5-参考)

## 1. 概要

Google 謹製のツール clasp で、ローカルから GAS へコードをアップロードする。

## 2. 作業環境

- GAS
- Docker Desktop
- Node.js
- clasp

## 3. コマンド

- [コマンド](./Makefile)

## 4. 作業手順

1. Docker Desktop を起動する
1. コンテナを起動する ($ make up)
1. Google Workspace にログインする ($ make login) \*1
1. GAS のプロジェクトを指定して、コードをダウンロードする ($ make clone ID=(スクリプト ID))
1. コードを更新する
1. ローカルのコードを GAS にアップロードする ($ make push)
   手順は以上

```
※1 ログイン手順を詳しく記述します。

1. コマンド `make login` を実行すると、コンソールにログイン用の URL が表示されます。
2. この URL をコピーして、Web ブラウザでログイン情報を入力してください。
3. この時、ログイン情報を正しく入力すると、Web ブラウザにエラー画面が表示されます。その状態でアドレスバーの URL をコピーしてください。
4. コピーした後者の URL を、始めにコマンドを実行したコンソールに貼り付けて、リターンキーを押してください。
5. 正しくログインできたら、Web ブラウザのログイン画面 (エラー画面) は閉じて、次の手順に移ってください。
```

## 5. 参考

下記のページを参考にしました。

- [clasp login --no-localhost が使えない (@naoyeah, Qiita)](https://qiita.com/naoyeah/items/0db5fc82561020f2768e)
